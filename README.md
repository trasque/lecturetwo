# 5月度 課題2

「受注」クラスに必要な情報が揃っている場合に限り、出荷処理を行うプログラムです。  
出荷処理の際は、「伝票」クラスで管理された番号が発行され、「受注」の各インスタンスに保存されます。  
送料を揃えるためには「運賃」クラスにある運賃計算メソッドを実行する必要があります。

## 「受注」クラスの情報

インスタンスは以下のような情報を持ちます

- 品名
- 数量
- 単価
- 送料
- 送り先住所
- 伝票番号

### 「受注」クラスの持つ機能

1. インスタンスの受注情報を一覧表示します
2. インスタンスが出荷可能な状態かを判定します *（出力方法を変更予定）*
3. 出荷処理を行います（同時に、「伝票」クラスから発行された伝票番号をインスタンスに保存します）

## 「伝票」クラスの情報

伝票番号をデータベース的に管理するクラスで、インスタンス変数は持ちません。  
伝票番号は「日付＋連番」という形式を持ち、日付が変わると連番はリセットされます。  
static 変数として、クラス内部でのみ利用可能な以下の情報を持ちます。

- その日の番号（連番）
- 直前に発行した伝票番号
- 番号リセット時のデフォルト設定値
- フォーマット形式の設定値

### 「伝票」クラスの機能

1. 伝票番号を生成し、返します。日付が更新された場合は末尾の連番がリセットされます。

## 「運賃」クラスの情報

受注インスタンスの情報をもとに運賃を計算します。  
運賃インスタンスを作成すると、運賃計算ルールを設定できます。  
運賃計算ルールは、受注インスタンスの情報に加え、消費税・配送エリア・個口料金が必要です。  
そのために必要な以下のインスタンス変数を持ちます。

- 消費税
- 配送エリア
- 個口料金

### 「運賃」クラスの機能

1. 対象の「受注」インスタンスの情報から運賃を計算し、返します。
2. 運賃計算の情報が不足している場合は警告を表示し、0を返します。

---

## 実行例

### 例1

全て初期値となる「受注」インスタンス `mikan` を生成し、運賃計算と出荷処理を行う  
どちらも情報が不足しているため、警告表示が行われる

```
◆◆みかん◆◆
＜＜情報が不足しています：以下を確認してください＞＞
品名：設定なし
数量：設定なし
単価：設定なし
送料：未計算
住所：設定なし
伝票：未発行
数量が設定されていません
```

### 例2

全ての情報が揃っている「受注」インスタンス `saba` を生成し、運賃計算と出荷処理を行う  
先に出荷処理を行うと、運賃情報が足りていないという警告が表示される  
運賃計算を行い、再度出荷処理を行う

```
◆◆さば◆◆
＜＜情報が不足しています：以下を確認してください＞＞
品名：さば
数量：10
単価：120
送料：未計算
住所：千葉
伝票：未発行
2332円で発送しました!さばの伝票番号は:No20220520-1です
```
